<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Grade 8 Success Portal - Your central hub for Cambridge Lower Secondary study resources, quizzes, and exam prep.">
    <meta name="keywords" content="Grade 8, Study, Cambridge, Checkpoint, Maths, Science, English, Quiz, Exam Prep">
    <meta name="author" content="Grade 8 Student">
    <title>Grade 8 Study Hub</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#6a11cb">
    <link rel="apple-touch-icon" href="icon-192.png">
</head>

<body>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js')
                    .then(reg => console.log('Service Worker registered!', reg.scope))
                    .catch(err => console.log('Service Worker registration failed: ', err));
            });
        }
    </script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>

    <!-- Login Gateway Overlay -->


    <!-- 2FA / Security PIN Overlay -->
    <div id="auth-step-2" style="display: none;">
        <div id="pin-box" class="glass-panel-md text-center">
            <h2><i class="fa-solid fa-shield-halved"></i> Security Check</h2>
            <p>Please enter your 4-digit PIN to unlock.</p>
            <div class="pin-input-group">
                <input type="password" id="pin-input" maxlength="4" placeholder="••••">
                <button id="verify-pin-btn"><i class="fa-solid fa-arrow-right"></i></button>
            </div>
            <p id="pin-error" style="color: #ff4757; display: none; margin-top: 10px;">Incorrect PIN. Try again.</p>
        </div>
    </div>

    <!-- Background Video -->
    <div class="video-background">
        <div class="overlay"></div>
        <video autoplay muted loop playsinline poster="background-poster.png" id="bg-video">
            <source src="study-background.mp4" type="video/mp4">
            <!-- Fallback if video is missing -->
            Your browser does not support HTML5 video.
        </video>
    </div>

    <!-- Main Content -->
    <main class="glass-container">
        <header class="main-header">
            <div class="header-top-row">
                <div id="datetime-display"></div>
                <!-- Right Side Controls -->
                <div class="header-controls">
                    <!-- Theme Switcher -->
                    <div class="theme-switcher">
                        <button class="theme-btn" data-color="#6a11cb" style="background: #6a11cb;"></button>
                        <button class="theme-btn" data-color="#00b894" style="background: #00b894;"></button>
                        <button class="theme-btn" data-color="#e17055" style="background: #e17055;"></button>
                        <button class="theme-btn" data-color="#0984e3" style="background: #0984e3;"></button>
                    </div>

                    <!-- Google Login (Top Right) -->
                    <div id="google-login-container">
                        <div id="g_id_onload"
                            data-client_id="895631263906-lksleo57ioccvuekgd4qg3bcj2qmn5ci.apps.googleusercontent.com"
                            data-context="signin" data-ux_mode="popup" data-callback="handleCredentialResponse"
                            data-auto_prompt="false">
                        </div>
                        <div class="g_id_signin" data-type="standard" data-shape="pill" data-theme="filled_blue"
                            data-text="signin_with" data-size="medium" data-logo_alignment="left">
                        </div>
                        <div id="guest-login" style="margin-top: 5px; text-align: right;">
                            <a href="#" id="enter-guest"
                                style="font-size: 0.75rem; color: rgba(255,255,255,0.6); text-decoration: none;">Enter
                                as Guest</a>
                        </div>
                        <div id="user-profile" style="display: none; align-items: center; gap: 10px;">
                            <img id="user-avatar" src="" alt="User"
                                style="width: 32px; height: 32px; border-radius: 50%;">
                            <button id="sign-out-btn"
                                style="background: rgba(255,255,255,0.1); border: none; color: white; padding: 5px 10px; border-radius: 5px; cursor: pointer;">Sign
                                Out</button>
                        </div>
                    </div>
                </div>
            </div>

            <h1>Grade 8 <span class="highlight">Success</span> Portal</h1>
            <p>Your central hub for all study resources and quizzes.</p>

            <!-- Motivation Widget -->
            <div id="motivation-box" class="glass-panel-sm" style="margin-bottom: 25px;">
                <i class="fa-solid fa-quote-left"></i> <span id="quote-text">Loading inspiration...</span>
            </div>

            <div class="tools-row">
                <!-- Focus Timer -->
                <div id="timer-box" class="glass-panel-md">
                    <h3><i class="fa-solid fa-clock"></i> Focus Timer</h3>
                    <div id="timer-display">30:00</div>
                    <div class="timer-controls">
                        <button id="start-timer" class="btn-primary">Start Focus</button>
                        <button id="reset-timer" class="btn-secondary">Reset</button>
                    </div>
                    <p class="timer-status">Ready to focus?</p>

                </div>

                <!-- To-Do List -->
                <div id="todo-box" class="glass-panel-md" style="vertical-align: top;">
                    <h3><i class="fa-solid fa-list-check"></i> Homework & Tasks</h3>
                    <div class="todo-input-group">
                        <input type="text" id="todo-input" placeholder="Add a new task...">
                        <button id="add-todo"><i class="fa-solid fa-plus"></i></button>
                    </div>
                    <ul id="todo-list">
                        <!-- Tasks will appear here -->
                    </ul>
                </div>
            </div>

        </header>

        <nav class="term-nav">
            <a href="#term1" class="nav-pill active">Term 1</a>
            <a href="#term2" class="nav-pill">Term 2</a>
            <a href="#term3" class="nav-pill">Term 3</a>
            <a href="#term4" class="nav-pill">Term 4</a>
        </nav>

        <div class="terms-container" id="terms-container">
            <!-- Content generated by main.js -->
        </div>

        <script src="config.js"></script>
        <script src="main.js"></script>
    </main>

</body>

</html>